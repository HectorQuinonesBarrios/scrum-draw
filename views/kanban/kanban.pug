extends ../layout

block append head
  link(rel='stylesheet' href='/stylesheets/kanban.css')

block content
  // Modals
  include new-backlog.pug
  include new-card.pug

  .container-fluid
  button.btn.btn-info.btn-sm(type='button' data-toggle='modal' data-target='#BacklogModal')
    i.fa.fa-plus
  tarjeta-selector
block append script
  script(src='/javascripts/kanban/kanban.js' type='text/javascript')
  script(src='/socket.io/socket.io.js' type='text/javascript')
  script(src='/riot/riot.min.js' type='text/javascript')
  script(src='/tarjeta-selector/tarjeta-selector.js')
  script.
    $('#CardModal').on('show.bs.modal', function (event) {
      var button = $(event.relatedTarget);
      var backlogId = button.data('backlog');
      var modal = $(this);
      modal.find('.modal-body input[name=backlog]').val(backlogId);
    });
    riot.mount('tarjeta-selector',{backlogs: !{JSON.stringify(backlogs)}, proyecto: !{JSON.stringify(proyecto)}})
    
        
  
